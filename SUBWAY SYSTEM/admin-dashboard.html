<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard | JIA SUBS</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  * { box-sizing: border-box; font-family: "Poppins", sans-serif; }
  body { margin: 0; display: flex; min-height: 100vh; background: #f5f6fa; color: #222; transition: 0.3s; }

  /* Sidebar */
  .sidebar { width: 240px; background: #222; color: #fff; padding: 20px; display: flex; flex-direction: column; gap: 25px; transition: 0.3s; }
  .sidebar h2 { text-align: center; color: #8efd88; }
  .sidebar button { background: transparent; border: none; color: #fff; font-weight: 600; padding: 10px; text-align: left; border-radius: 6px; cursor: pointer; transition: 0.3s; }
  .sidebar button:hover, .sidebar button.active { background: #8efd88; color: #222; }

  /* Main content */
  .main-content { flex: 1; padding: 20px; overflow-y: auto; transition: 0.3s; }
  header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
  header h1 { font-size: 1.8rem; }
  header button { background: #8efd88; border: none; padding: 10px 18px; font-weight: 600; border-radius: 6px; cursor: pointer; }

  /* Panels */
  .panel { background: #fff; border-radius: 10px; box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08); padding: 20px; margin-bottom: 20px; transition: 0.3s; }
  h2 { color: #333; margin-bottom: 10px; }

  /* Table */
  table { width: 100%; border-collapse: collapse; margin-top: 10px; }
  th, td { padding: 10px; border-bottom: 1px solid #ddd; text-align: center; }
  th { background: #8efd88; color: #222; }
  .toggle-btn { cursor: pointer; padding: 6px 12px; border: none; border-radius: 5px; font-weight: 600; transition: 0.3s; }
  .available { background: #2ecc71; color: #fff; }
  .unavailable { background: #e74c3c; color: #fff; }

  /* Charts */
  .chart-container { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; }
  .chart-box { background: #fff; border-radius: 10px; box-shadow: 0 3px 8px rgba(0,0,0,0.08); padding: 15px; flex: 1 1 300px; max-width: 450px; }

  /* Notifications */
  .notif-wrapper { position: relative; }
  .notif-bell { font-size: 1.6rem; cursor: pointer; color: #ffce00; position: relative; }
  .notif-bell::after { content: ''; position: absolute; top: -3px; right: -3px; width: 10px; height: 10px; background: #ff3b3b; border-radius: 50%; animation: pulse 1.5s infinite; }
  @keyframes pulse {0%{transform:scale(0.9);opacity:1;}70%{transform:scale(1.4);opacity:0;}100%{transform:scale(0.9);opacity:0;}}
  .notif-dropdown { position: absolute; top: 35px; right: 0; background: #fff; width: 250px; max-height: 300px; overflow-y: auto; border: 1px solid #ffce00; border-radius: 6px; display: none; flex-direction: column; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index:100; }
  .notif-dropdown p { padding: 12px; border-bottom: 1px solid #eee; margin:0; }
  .notif-dropdown p:last-child { border-bottom:none; }

  /* Dark Mode */
  body.dark { background: #121212; color: #eee; }
  body.dark .sidebar { background: #111; }
  body.dark .panel { background: #1e1e1e; color: #eee; }
  body.dark table th { background: #0a3; color: #fff; }
  body.dark table td, body.dark table th { border-color: #333; }
  body.dark .chart-box { background: #1e1e1e; color: #eee; }
  body.dark .notif-dropdown { background: #1e1e1e; border-color: #0a3; color: #eee; }

  @media(max-width:768px){
    body { flex-direction: column; }
    .sidebar { flex-direction: row; width: 100%; justify-content: space-around; }
    .main-content { padding: 10px; }
  }
</style>
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <h2>JIA SUBS</h2>
    <button class="active" onclick="showPanel('dashboard', event)">Dashboard</button>
    <button onclick="showPanel('orders', event)">Orders</button>
    <button onclick="showPanel('menu', event)">Menu Management</button>
    <button onclick="logout()">Logout</button>
  </div>

  <!-- Main -->
  <div class="main-content">
    <header>
      <h1>Admin Dashboard</h1>
      <div>
        <span class="notif-wrapper">
          <span class="notif-bell" id="notifBell">ðŸ””</span>
          <div class="notif-dropdown" id="notifDropdown"><p>No recent notifications.</p></div>
        </span>
        <button id="darkToggle">ðŸŒ— Dark Mode</button>
      </div>
    </header>

    <!-- Dashboard -->
    <div id="dashboard" class="panel">
      <h2>Sales Overview</h2>
      <div class="chart-container">
        <div class="chart-box"><canvas id="weeklyChart"></canvas></div>
        <div class="chart-box"><canvas id="monthlyChart"></canvas></div>
      </div>
    </div>

    <!-- Orders -->
    <div id="orders" class="panel" style="display:none;">
      <h2>Recent Orders</h2>
      <table>
        <thead>
          <tr><th>Customer</th><th>Order</th><th>Total</th><th>Status</th></tr>
        </thead>
        <tbody id="ordersTable">
          <!-- Real-time ready: leave empty for now -->
        </tbody>
      </table>
    </div>

    <!-- Menu Management -->
    <div id="menu" class="panel" style="display:none;">
      <h2>Menu Management</h2>
      <table>
        <thead>
          <tr><th>Item</th><th>Category</th><th>Price</th><th>Status</th></tr>
        </thead>
        <tbody id="menuTable"></tbody>
      </table>
    </div>
  </div>

<script>
  // Navigation
  function showPanel(id, evt) {
    document.querySelectorAll(".panel").forEach(p => p.style.display="none");
    document.getElementById(id).style.display="block";
    document.querySelectorAll(".sidebar button").forEach(b => b.classList.remove("active"));
    evt.target.classList.add("active");
  }
  function logout() { if(confirm("Are you sure you want to logout?")) window.location.href="index.html"; }

  // Menu Management
  const menuItems = [
    // Coffee
    { name:"Costa Coffee", category:"Coffee", price:7.99, available:true },
    { name:"Mocha / Hot Chocolate", category:"Coffee", price:9.99, available:true },
    { name:"Caramel Latte", category:"Coffee", price:5.54, available:true },
    // Beverages
    { name:"Bottled Water", category:"Beverages", price:2.25, available:true },
    { name:"Redbull", category:"Beverages", price:3.39, available:true },
    { name:"Gatorade", category:"Beverages", price:3.59, available:true },
    { name:"Softdrinks (can)", category:"Beverages", price:2.25, available:true },
    { name:"Juicekids", category:"Beverages", price:1.59, available:true },
    { name:"Green Mango (drink)", category:"Beverages", price:5.50, available:true },
    // Snacks
    { name:"BLT Sandwich", category:"Snacks", price:6.49, available:true },
    { name:"BLT Sub", category:"Snacks", price:7.90, available:true },
    { name:"Egg Sandwich", category:"Snacks", price:6.79, available:true },
    { name:"Pizza Sub", category:"Snacks", price:7.99, available:true },
    { name:"Traditional Meat Sub", category:"Snacks", price:8.90, available:true },
    { name:"Homemade Sub", category:"Snacks", price:11.90, available:true },
    { name:"Wrap's", category:"Snacks", price:7.90, available:true },
    { name:"Taco Salad", category:"Snacks", price:8.89, available:true },
    { name:"Chicken Caesar Salad", category:"Snacks", price:8.89, available:true },
    { name:"Soup", category:"Snacks", price:3.50, available:true },
    { name:"Soup / Sub", category:"Snacks", price:12.25, available:true },
    { name:"Soup w/ Sandwich", category:"Snacks", price:11.25, available:true },
    { name:"Veggie SS", category:"Snacks", price:6.25, available:true },
    { name:"Chocolate Bar", category:"Snacks", price:2.50, available:true },
    { name:"Kitkat", category:"Snacks", price:2.50, available:true },
    { name:"Maynards", category:"Snacks", price:2.25, available:true },
    { name:"Mentos Chewy Mint", category:"Snacks", price:2.06, available:true },
    { name:"Skittles", category:"Snacks", price:2.15, available:true },
    { name:"Ring pop", category:"Snacks", price:1.75, available:true },
    { name:"Tictac", category:"Snacks", price:1.75, available:true },
    // Desserts
    { name:"Cheese Cake", category:"Desserts", price:4.25, available:true },
    { name:"Banana Bread", category:"Desserts", price:4.50, available:true },
    { name:"Banana Whole Pan", category:"Desserts", price:8.00, available:true },
    { name:"Bar cake", category:"Desserts", price:6.46, available:true },
    { name:"Torta Cake", category:"Desserts", price:3.85, available:true },
    { name:"Teddy pop", category:"Desserts", price:1.75, available:true },
    // Additional
    { name:"Add Traditional Meat", category:"Additional", price:1.75, available:true },
    { name:"Additional Cheese", category:"Additional", price:1.00, available:true },
    { name:"Additional homemade meat", category:"Additional", price:1.99, available:true }
  ];

  function loadMenuTable(){
    const table = document.getElementById("menuTable");
    table.innerHTML="";
    menuItems.forEach((item,i)=>{
      const row=document.createElement("tr");
      row.innerHTML=`<td>${item.name}</td><td>${item.category}</td><td>$${item.price.toFixed(2)}</td>
        <td><button class="toggle-btn ${item.available?'available':'unavailable'}" 
        onclick="toggleAvailability(${i})">${item.available?'Available':'Unavailable'}</button></td>`;
      table.appendChild(row);
    });
  }

  function toggleAvailability(index){
    menuItems[index].available = !menuItems[index].available;
    loadMenuTable();
  }

  // Charts
  function initCharts(){
    new Chart(document.getElementById("weeklyChart"),{
      type:"bar",
      data:{ labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"], datasets:[{ label:"Weekly Sales ($)", data:[450,520,600,720,880,950,700], backgroundColor:"#ffce00" }]},
      options:{ responsive:true, plugins:{legend:{display:false}} }
    });
    new Chart(document.getElementById("monthlyChart"),{
      type:"line",
      data:{ labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct"], datasets:[{ label:"Monthly Sales ($)", data:[5200,6800,7500,9000,10200,11500,9800,8700,11200,13000], borderColor:"#ffce00", backgroundColor:"rgba(255,206,0,0.3)", fill:true }]},
      options:{ responsive:true }
    });
  }

  // Dark Mode
  const darkToggle=document.getElementById("darkToggle");
  darkToggle.addEventListener("click",()=>{ document.body.classList.toggle("dark"); });

  // Notifications
  const notifBell=document.getElementById("notifBell");
  const notifDropdown=document.getElementById("notifDropdown");
  notifBell.addEventListener("click",e=>{ e.stopPropagation(); notifDropdown.style.display = notifDropdown.style.display==='flex'?'none':'flex'; });
  document.addEventListener("click",()=>{ notifDropdown.style.display='none'; });
  notifDropdown.addEventListener("click", e=>e.stopPropagation());

  document.addEventListener("DOMContentLoaded",()=>{ loadMenuTable(); initCharts(); });
</script>

</body>
</html>
